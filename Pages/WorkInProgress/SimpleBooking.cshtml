@page
@using Microsoft.EntityFrameworkCore
@using System.Security.Claims
@model Zealandic_Booking.Pages.WorkInProgress.SimpleBookingModel
@{
}
@((ClaimsIdentity) User.Identity);
<script>
    $(document).ready(function () {
        DT_Function();
        $('.carousel').carousel('pause');
        $("#DT_Year").keyup(function () {
            DT_Function();
        });
        $("#DT_Month").keyup(function () {
            DT_Function();
        });
        $("#DT_Day").keyup(function () {
            DT_Function();
        });
        $("#PRID").change(function () {
            DT_Function();
        });
    });

    function GetBookings(Year, Month, Day, roomID) {
        $.ajax({
            url: '/WorkInProgress/BookingController',
            data: { "Year": Year, "Month": Month, "Day": Day, "roomID": roomID },
            success: function (data) {
                $("#wow").text(data);

                if (data && data.indexOf("x0x") !== -1) {
                    if ($("#I00").hasClass("btn-dark")) {
                        $("#inlineRadio1").prop("disabled", true);
                        $("#I00").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I00").hasClass("btn-danger")) {
                        $("#inlineRadio1").prop("disabled", false);
                        $("#I00").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x2x") !== -1) {
                    if ($("#I02").hasClass("btn-dark")) {
                        $("#inlineRadio2").prop("disabled", true);
                        $("#I02").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I02").hasClass("btn-danger")) {
                        $("#inlineRadio2").prop("disabled", false);
                        $("#I02").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x4x") !== -1) {
                    if ($("#I04").hasClass("btn-dark")) {
                        $("#inlineRadio3").prop("disabled", true);
                        $("#I04").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I04").hasClass("btn-danger")) {
                        $("#inlineRadio3").prop("disabled", false);
                        $("#I04").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x6x") !== -1) {
                    if ($("#I06").hasClass("btn-dark")) {
                        $("#inlineRadio4").prop("disabled", true);
                        $("#I06").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I06").hasClass("btn-danger")) {
                        $("#inlineRadio4").prop("disabled", false);
                        $("#I06").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x8x") !== -1) {
                    if ($("#I08").hasClass("btn-dark")) {
                        $("#inlineRadio5").prop("disabled", true);
                        $("#I08").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I08").hasClass("btn-danger")) {
                        $("#inlineRadio5").prop("disabled", false);
                        $("#I08").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x10x") !== -1) {
                    if ($("#I10").hasClass("btn-dark")) {
                        $("#inlineRadio6").prop("disabled", true);
                        $("#I10").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I10").hasClass("btn-danger")) {
                        $("#inlineRadio6").prop("disabled", false);
                        $("#I10").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x12x") !== -1) {
                    if ($("#I12").hasClass("btn-dark")) {
                        $("#inlineRadio7").prop("disabled", true);
                        $("#I12").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I12").hasClass("btn-danger")) {
                        $("#inlineRadio7").prop("disabled", false);
                        $("#I12").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x14x") !== -1) {
                    if ($("#I14").hasClass("btn-dark")) {
                        $("#inlineRadio8").prop("disabled", true);
                        $("#I14").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I14").hasClass("btn-danger")) {
                        $("#inlineRadio8").prop("disabled", false);
                        $("#I14").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x16x") !== -1) {
                    if ($("#I16").hasClass("btn-dark")) {
                        $("#inlineRadio9").prop("disabled", true);
                        $("#I16").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I16").hasClass("btn-danger")) {
                        $("#inlineRadio9").prop("disabled", false);
                        $("#I16").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x18x") !== -1) {
                    if ($("#I18").hasClass("btn-dark")) {
                        $("#inlineRadio10").prop("disabled", true);
                        $("#I18").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I18").hasClass("btn-danger")) {
                        $("#inlineRadio10").prop("disabled", false);
                        $("#I18").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x20x") !== -1) {
                    if ($("#I20").hasClass("btn-dark")) {
                        $("#inlineRadio11").prop("disabled", true);
                        $("#I20").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I20").hasClass("btn-danger")) {
                        $("#inlineRadio11").prop("disabled", false);
                        $("#I20").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

                if (data && data.indexOf("x22x") !== -1) {
                    if ($("#I22").hasClass("btn-dark")) {
                        $("#inlineRadio12").prop("disabled", true);
                        $("#I22").removeClass("btn-dark").addClass("btn-danger");
                    }
                } else {
                    if ($("#I22").hasClass("btn-danger")) {
                        $("#inlineRadio12").prop("disabled", false);
                        $("#I22").removeClass("btn-danger").addClass("btn-dark");
                    }
                }

            },
            error: function (xhr) {
                console.log("Something went wrong. Please consult Zealandic Booking at 20581337");
            }
        });
    }

    function DT_Function() {
        var Year = $("#DT_Year").val();
        var Month = $("#DT_Month").val();
        var Day = $("#DT_Day").val();
        var PostRoomID = $("#PRID").val();
        if (Month > 12) {
            $("#DT_Month").val(12);
        }
        else if (Day > 31) {
            $("#DT_Day").val(31);
        }
        GetBookings(Year, Month, Day, PostRoomID);


    }
</script>
<p id="wow">hej med dig</p>
<form method="post">
    <div style="width: 440px" class="col-md-12">
        <div class="">
            <select class="form-control btn-dark" name="postRoomID" id="PRID" aria-label="Room Select Form">
                @foreach (var room in Model.Rooms)
                {
                    <option value="@room.RoomID">Name: @room.Name | Title: @room.Title | IT: @room.IT_Tools</option>
                }
            </select>
        </div>

        @*<div class="mt-2">
                <select class="form-control btn-dark" name="postUserID" aria-label="User Select Form">
                    @foreach (var user in Model.Users)
                    {
                        <option value="@user.UserID">Name: @user.Name</option>
                    }
                </select>
            </div>*@

        <div class="input-group mt-2">
            <div class="input-group-prepend">
                <span class="input-group-text text-dark" id="basic-addon1">Year</span>
            </div>
            <input maxlength="4" type="text" id="DT_Year" class="form-control btn-dark DT_Year" name="year" value="@Model.currentYear" aria-label="Year" aria-describedby="basic-addon1">
            <div class="input-group-prepend ml-2">
                <span class="input-group-text text-dark" id="basic-addon2">Month</span>
            </div>
            <input maxlength="2" type="text" id="DT_Month" class="form-control btn-dark" name="month" value="@Model.currentMonth" aria-label="Month" aria-describedby="basic-addon2">
            <div class="input-group-prepend ml-2">
                <span class="input-group-text text-dark" id="basic-addon3">Day</span>
            </div>
            <input maxlength="2" type="text" id="DT_Day" class="form-control btn-dark" name="day" value="@Model.currentDay" aria-label="Day" aria-describedby="basic-addon3">
        </div>

        <div class="btn-group mt-2 text-center" data-toggle="buttons">
            <fieldset>
                <div>
                    <label class="btn btn-dark" id="I00" style="font-size: 10px" for="inlineRadio1">
                        <input type="radio" id="inlineRadio1" name="time" value="00.00.00" checked> 00:00 - 02:00
                    </label>

                    <label class="btn btn-dark" id="I02" style="font-size: 10px" for="inlineRadio2">
                        <input type="radio" id="inlineRadio2" name="time" value="02.00.00"> 02:00 - 04:00
                    </label>

                    <label class="btn btn-dark" id="I04" style="font-size: 10px" for="inlineRadio3">
                        <input type="radio" id="inlineRadio3" name="time" value="04.00.00"> 04:00 - 06:00
                    </label>

                    <label class="btn btn-dark" id="I06" style="font-size: 10px" for="inlineRadio4">
                        <input type="radio" id="inlineRadio4" name="time" value="06.00.00"> 06:00 - 08:00
                    </label>
                </div>

                <div>
                    <label class="btn btn-dark" id="I08" style="font-size: 10px" for="inlineRadio5">
                        <input type="radio" id="inlineRadio5" name="time" value="08.00.00"> 08:00 - 10:00
                    </label>

                    <label class="btn btn-dark" id="I10" style="font-size: 10px" for="inlineRadio6">
                        <input type="radio" id="inlineRadio6" name="time" value="10.00.00"> 10:00 - 12:00
                    </label>

                    <label class="btn btn-dark" id="I12" style="font-size: 10px" for="inlineRadio7">
                        <input type="radio" id="inlineRadio7" name="time" value="12.00.00"> 12:00 - 14:00
                    </label>

                    <label class="btn btn-dark" id="I14" style="font-size: 10px" for="inlineRadio8">
                        <input type="radio" id="inlineRadio8" name="time" value="14.00.00"> 14:00 - 16:00
                    </label>
                </div>

                <div>
                    <label class="btn btn-dark" id="I16" style="font-size: 10px" for="inlineRadio9">
                        <input type="radio" id="inlineRadio9" name="time" value="16.00.00"> 16:00 - 18:00
                    </label>


                    <label class="btn btn-dark" id="I18" style="font-size: 10px" for="inlineRadio10">
                        <input type="radio" id="inlineRadio10" name="time" value="18.00.00"> 18:00 - 20:00
                    </label>

                    <label class="btn btn-dark" id="I20" style="font-size: 10px" for="inlineRadio11">
                        <input type="radio" id="inlineRadio11" name="time" value="20.00.00"> 20:00 - 22:00
                    </label>


                    <label class="btn btn-dark" id="I22" style="font-size: 10px" for="inlineRadio12">
                        <input type="radio" id="inlineRadio12" name="time" value="22.00.00"> 22:00 - 00:00
                    </label>
                </div>
            </fieldset>
        </div>
        <div class="text-center">
            <input class="btn btn-dark text-center" id="submit" type="submit">
        </div>
    </div>
</form>


@*<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="ml-4">
                    <h1>1</h1>
                    <button class="btn-dark"></button>
                </div>
            </div>
            <div class="carousel-item">
                <div class="ml-4">
                    <h1>2</h1>
                    <button class="btn-dark"></button>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>*@
